{# templates/base.html #}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}AnyUnit - Universal Unit Converter{% endblock %}</title>
    <meta name="description"
        content="{% block meta_description %}Convert between any units of measurement instantly. Free, fast, and accurate unit converter.{% endblock %}">
    {% block robots %}<meta name="robots" content="index,follow">{% endblock %}

    {# Canonical #}
    {% if meta_tags and meta_tags.canonical %}
    <link rel="canonical" href="{{ request.url_root.rstrip('/') ~ meta_tags.canonical }}">
    {% else %}
    <link rel="canonical" href="{{ request.url }}">
    {% endif %}

    {# Open Graph #}
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="AnyUnit">
    <meta property="og:title" content="{{ (meta_tags.title if meta_tags else 'AnyUnit - Universal Unit Converter') }}">
    <meta property="og:description" content="{{ (meta_tags.description if meta_tags else 'Convert between any units of measurement instantly. Free, fast, and accurate unit converter.') }}">
    <meta property="og:url" content="{{ request.url_root.rstrip('/') ~ (meta_tags.canonical if meta_tags and meta_tags.canonical else request.path) }}">
    <meta property="og:image" content="{{ url_for('static', filename='img/android-chrome-512x512.png', _external=True) }}">

    {# Twitter Cards #}
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@anyunit_app">
    <meta name="twitter:title" content="{{ (meta_tags.title if meta_tags else 'AnyUnit - Universal Unit Converter') }}">
    <meta name="twitter:description" content="{{ (meta_tags.description if meta_tags else 'Convert between any units of measurement instantly. Free, fast, and accurate unit converter.') }}">
    <meta name="twitter:image" content="{{ url_for('static', filename='img/android-chrome-512x512.png', _external=True) }}">

    {# JSON-LD Structured Data #}
    {% if meta_tags and meta_tags.json_ld %}
    <script type="application/ld+json">{{ meta_tags.json_ld | safe }}</script>
    {% endif %}

    <link rel="apple-touch-icon" sizes="180x180" href="/static/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicon-16x16.png">
    <link rel="manifest" href="/static/img/site.webmanifest">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/main.css') }}" rel="stylesheet">
    {% block extra_css %}{% endblock %}

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DTBMBG610K"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-DTBMBG610K');
    </script>

</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('main.index') }}">AnyUnit</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('main.index') }}">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('markdown.index') }}">Markdown</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('timezone.index') }}">Timezone</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('text_files.index') }}">Text Files</a>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('aviation.aviation_calculators') }}">Aviation</a>
                    </li> -->
                </ul>
            </div>
        </div>
    </nav>

    <main class="container py-4">
        {% block content %}{% endblock %}
    </main>

    <footer class="footer mt-auto py-3 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-md-6 text-center text-md-start">
                    <span class="text-muted"> 2025 AnyUnit. All rights reserved.</span>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <ul class="list-inline mb-0">
                        <li class="list-inline-item">
                            <a href="{{ url_for('main.privacy_policy') }}" class="text-muted">Privacy Policy</a>
                        </li>
                        <!-- You can add more footer links here in the future -->
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    {% include 'cookie_consent.html' %}

    {# Bootstrap 5 JS Bundle #}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/cookie_consent.js') }}"></script>
    {% block extra_js %}{% endblock %}
</body>

</html>